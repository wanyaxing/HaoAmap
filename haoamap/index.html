<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>关键字检索</title>
    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <style type="text/css">
        #panel {
            position: absolute;
            background-color: white;
            max-height: 90%;
            overflow-y: auto;
            top: 10px;
            right: 10px;
            width: 280px;
            width: 30%;/*axing add*/
        }
    </style>
    <script type="text/javascript" src="http://cdn.staticfile.org/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=8097249239d135cbf4c9c3d113f16310&plugin=AMap.PlaceSearch"></script>
    <script type="text/javascript" src="js/haoamap.js"></script>
</head>
<body>
<div style="margin:0 auto;width: 800px;">
    <p>
        haoamap使用方法：<br/>
        1. 在html里引入jquery.js webapi.amap.com/maps haoamap.js 三个js文件。<br/>
        2. 使用以下方案，将地址数据放置在对应的input中即可。<br/>
        2.1 如果地址所在input的class为input_which_is_address，则haoamap.js会在页面载入后自动渲染图片。<br/>
        2.2 如果地址所在input不含默认class,则需要在页面载入或数据更新后，自行调用HaoAmap.init(inputNode)的方法来进行地图渲染。（inputNode为dom元素，如$('input')[0]）<br/>
        3. 如果在地图渲染完成后，通过js更改了地址所在input的值，可以使用$(inputNode).trigger('change')的方法，来手动触发更新。<br/>
    </p>


    方案一：使用三个input来存储地址和GPS  （推荐方案）<br/>
    <div style="width: 800px;height: 600px;position: relative;">
        <input class="input_which_is_address" type="hidden" name="address" value="上海南翔中暨大厦"/>
        <input type="hidden" name="lng" value="121.318625"/>
        <input type="hidden" name="lat" value="31.287156" />
    </div>



<br/><br/><br/><br/>

    方案二：使用一个input存储地址，使用其属性存储gps地址。<br/>
    <div style="width: 800px;height: 600px;position: relative;">
        <input class="input_which_is_address" type="hidden" name="address" value="上海南翔中暨大厦" lng="121.318625" lat="31.287156"/>
    </div>

<br/><br/><br/><br/>

    方案三：使用一个input存储地址，无gps属性，由地图自行查找地址（并更新gps） （不推荐）<br/>
    <div style="width: 800px;height: 600px;position: relative;">
        <input class="input_which_is_address" type="hidden" name="address" value="上海南翔中暨大厦"/>
    </div>

<br/><br/><br/><br/>

    方案四：只展示地址，不支持地址更新。（将input给disabled掉即可）<br/>
    <div style="width: 800px;height: 600px;position: relative;">
        <input class="input_which_is_address" type="hidden" name="address" value="上海南翔中暨大厦" lng="121.318625" lat="31.287156" disabled/>
    </div>
</div>
</body>
</html>
